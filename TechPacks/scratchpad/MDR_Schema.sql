DROP Table if exists TECHPACK_VERSIONS;
CREATE TABLE TECHPACK_VERSIONS ( TECHPACK_VERSION_ID varchar(128), TECHPACK_NAME varchar(128), TECHPACK_RELEASE varchar(128), TECHPACK_TYPE varchar(128), VENDOR varchar(128), TECHNOLOGY varchar(128), PRODUCT_NUMBER varchar(128), FEATURE_NAME varchar(128), DESCRIPTION varchar(255), LICENSE varchar(128), DEPENDENCY TEXT [], PRIMARY KEY ( TECHPACK_VERSION_ID));
DROP Table if exists SUPPORTED_NODE_VERSIONS;
CREATE TABLE SUPPORTED_NODE_VERSIONS ( TECHPACK_VERSION_ID varchar(128), NODE_VERSION varchar(128), MODEL_VERSION varchar(128), DESCRIPTION varchar(255), FOREIGN KEY ( TECHPACK_VERSION_ID ) REFERENCES TECHPACK_VERSIONS ( TECHPACK_VERSION_ID ));
DROP Table if exists NODE_MO_STRUCTURE;
CREATE TABLE NODE_MO_STRUCTURE ( TECHPACK_VERSION_ID varchar(128), PARENT_MO_NAME varchar(128), CHILD_MO_NAME varchar(128), CARDINALITY_MIN int, CARDINALITY_MAX int, FOREIGN KEY ( TECHPACK_VERSION_ID ) REFERENCES TECHPACK_VERSIONS ( TECHPACK_VERSION_ID ));
DROP Table if exists MO_TABLE_MAPPING;
CREATE TABLE MO_TABLE_MAPPING ( TECHPACK_VERSION_ID varchar(128), MO_NAME varchar(128), REPORTABLE_ENTITY_NAME varchar(128), FOREIGN KEY ( TECHPACK_VERSION_ID ) REFERENCES TECHPACK_VERSIONS ( TECHPACK_VERSION_ID ));
DROP Table if exists RETENTION_PLAN;
CREATE TABLE RETENTION_PLAN ( PLAN_NAME varchar(128), RETENTION_PERIOD int, HOT_STORE_RETENTION_PERIOD int, PRIMARY KEY ( PLAN_NAME));
DROP Table if exists REPORTABLE_ENTITY;
CREATE TABLE REPORTABLE_ENTITY ( REPORTABLE_ENTITY_ID varchar(128), TECHPACK_VERSION_ID varchar(128), REPORTABLE_ENTITY_NAME varchar(128), ENTITY_TYPE varchar(128), PARTITION_PLAN varchar(128), RETENTION_PLAN varchar(128), DESCRIPTION varchar(255), PRIMARY KEY ( REPORTABLE_ENTITY_ID), FOREIGN KEY ( TECHPACK_VERSION_ID ) REFERENCES TECHPACK_VERSIONS ( TECHPACK_VERSION_ID ));
DROP Table if exists REPORTABLE_ENTITY_COLUMNS;
CREATE TABLE REPORTABLE_ENTITY_COLUMNS ( TECHPACK_VERSION_ID varchar(128), REPORTABLE_ENTITY_ID varchar(128), ENTITY_COLUMN_ID varchar(128), ENTITY_COLUMN_NAME varchar(128), ENTITY_COLUMN_ORDER int, ENTITY_COLUMN_TYPE varchar(128), ENTITY_DATA_TYPE varchar(128), ENTITY_COUNTER_TYPE varchar(128), PARTITION_BY SMALLINT, ENTITY_COLUMN_DESCRIPTION varchar(4096), PRIMARY KEY ( ENTITY_COLUMN_ID), FOREIGN KEY ( TECHPACK_VERSION_ID ) REFERENCES TECHPACK_VERSIONS ( TECHPACK_VERSION_ID ), FOREIGN KEY ( REPORTABLE_ENTITY_ID ) REFERENCES REPORTABLE_ENTITY ( REPORTABLE_ENTITY_ID ));
DROP Table if exists REPORTABLE_ENTITY_COLUMN_SOURCE;
CREATE TABLE REPORTABLE_ENTITY_COLUMN_SOURCE ( ENTITY_COLUMN_ID varchar(128), TECHPACK_VERSION_ID varchar(128), REPORTABLE_ENTITY_ID varchar(128), SOURCE_ENTITY_NAME varchar(128), SOURCE_ENTITY_COLUMN_NAME varchar(128), FOREIGN KEY ( TECHPACK_VERSION_ID ) REFERENCES TECHPACK_VERSIONS ( TECHPACK_VERSION_ID ), FOREIGN KEY ( REPORTABLE_ENTITY_ID ) REFERENCES REPORTABLE_ENTITY ( REPORTABLE_ENTITY_ID ), FOREIGN KEY ( ENTITY_COLUMN_ID ) REFERENCES REPORTABLE_ENTITY_COLUMNS ( ENTITY_COLUMN_ID ));
DROP Table if exists REPORTABLE_ENTITY_JOINS;
CREATE TABLE REPORTABLE_ENTITY_JOINS ( ENTITY_COLUMN_ID varchar(128), TECHPACK_VERSION_ID varchar(128), REPORTABLE_ENTITY_ID varchar(128), REPORTABLE_ENTITY_NAME varchar(128), SOURCE_ENTITY_NAME varchar(128), SOURCE_ENTITY_COLUMN_NAME varchar(128), TARGET_ENTITY_NAME varchar(128), TARGET_ENTITY_COLUMN_NAME varchar(128), FOREIGN KEY ( TECHPACK_VERSION_ID ) REFERENCES TECHPACK_VERSIONS ( TECHPACK_VERSION_ID ), FOREIGN KEY ( REPORTABLE_ENTITY_ID ) REFERENCES REPORTABLE_ENTITY ( REPORTABLE_ENTITY_ID ), FOREIGN KEY ( ENTITY_COLUMN_ID ) REFERENCES REPORTABLE_ENTITY_COLUMNS ( ENTITY_COLUMN_ID ));
DROP Table if exists FLOW_CONFIGURATION;
CREATE TABLE FLOW_CONFIGURATION ( TECHPACK_VERSION_ID varchar(128), FLOW_NAME varchar(128), ACTION_NAME varchar(128), WORKER_NAME varchar(128), WORKER_CONFIG varchar(128), DEPENDENCY_FLOW_NAME varchar(128), DEPENDENCY_ACTION_NAME varchar(128));
DROP Table if exists FLOW_SCHEDULING;
CREATE TABLE FLOW_SCHEDULING ( TECHPACK_VERSION_ID varchar(128), FLOW_NAME varchar(128), ACTION_NAME varchar(128), WORKER_NAME varchar(128), REOCCURING varchar(128), ROP_INTERVAL int, ROP_OFFSET int, ENABLED int);
DROP Table if exists FILEBACKLOG;
CREATE TABLE FILEBACKLOG ( TECHPACK_NAME varchar(128), FLOW_NAME varchar(128), WORKER_NAME varchar(128), FILEPATH varchar(1024), STATUS varchar(128), RECEIVED_DATE timestamp, PROCESSED_DATE timestamp);
DROP Table if exists DESIGNRULES;
CREATE TABLE DESIGNRULES ( TECHPACK_VERSION_ID varchar(128), TARGET_PACKAGE_NAME varchar(128), RULE_NAME varchar(128), PARENT_RULE_NAME varchar(128), EXECUTION_ORDER int, MATCH_TYPE varchar(128), MATCH_ARGUMENT varchar(128), MATCH_VALUE varchar(128), TARGET_NAME varchar(128));
